## SnekObjects
Objects in C?!? No. Way.

*However*, Sneklang is built in C, and everything in Sneklan is an "object". To be clear, not a *class* or *object-oriened programming* object, but a higher-level data structure that *holds some metadata about itself*. For example, it will store:
- What type of data it holds (int, float, string, etc.)
- The size of the data in holds
- The data itself
- How many *references* to itself exist (at least later, when we build our own garbage collector!)
That last point is critical! Because Sneklang is a garbage-collected language, we need to know how many references to an object exist so we can free it when it's no longer needed.

## Integer
Let's start simple with a single integer object. The difference between a "snek object" and a regular C integer is that Snek integer:
1. Is allocated on the heap
2. Can store additional metadata about itself (for now, just its type)

![](/attachments/Pasted%20image%2020241005002634.png)

## Float 
Sneklang needs floats (obviously). How else will all the crypto bros write weird floating-point bugs into their smart contracts?

So how do we store both floats and ints into the same type?

We're going to use the `union` and `enum` features in C to be able to do this, just like we discussed in previous chapters. You will need to extend the existing `snek_object_kind_t` and `snek_object_data_t` types to be able to include both `int`'s and `float`s (and we will continue to add more types in the following chapters to exercise your newfound mastery of memory management).

## String
Now we're going to do our first object that has something... *additional* allocated. When we allocate memory for a "snek object", that reserves memory for the object itself. Small data types like integers and floats are stored directly in the objects, so there's now need for additional memory allocation.

String, however, a different story. Strings in C are just arrays of characters, and because they can be any length, we need to dynamically allocated memory for the string data separately from the object itself.

```c
char *my_string = "hello world";
```

In the example above, `my_string` is a pointer to a character array. The character array contains:

```c
h
e
l
l
o

w
o
r
l
d
\0
```

The extra spot at the end with the `\0` is the null terminator. It's how C knows where the string ends.

## Vector3
`Vector3` is going to be the first Snek Object that can hold a reference to another Snek Object. It's a collection type: a type that holds other types.

Arrays, lists, dictionaries, and sets are all examples of collection types. We won't implement all of those types in this course, but they each will follow the same pattern that we're establishing here with `Vector3`.

`Vector3` is similar to a Python tuple that contains *exactly* 3 "SnekObject" elements.

## Arrays
Let's add dynamically size array to Sneklang. We'll do it in two parts. First, we'll just create an empty array. In a later lesson, we'll make it useful.

## Get and Set
We can make empty arrays! ...Which is pretty useless, but at least the bones are there. Let's make them useful by allowing us to store and retrieve values from the array.

- `snek_array_set` - Sets a value at a specific index in the array. (This is effectively `array[3] = new_value` in Python)
- `snek_array_get` - Gets a value at a specific index in the array. (This is effectively `print(array[7])` in Python)

## Length
Now that we have all sorts of Snek Objects (integers, floats, strings, arrays, etc.), we need a convenient way to get the `length` of *any* Snek Object. In Python (Sneklang's dreaded competitor) it's as easy as:

```python
print(len(x))
```

As a Python dev, you don't have to know the value of `X` ahead of time because Python keeps track of it under-the-hood for you. We want the same capability in Sneklang.

## Add 
If you're familiar with Python, you'll be familiar with how Python objects can have a `__add__` method. It allows developers to specific custom logic for different types of objects. For example, adding two integers we want to behave like this:

```python
3 + 5
# 8
```

But with an array, we probably want it to work like this:

```python
[3] + [5]
# [3, 5]
```